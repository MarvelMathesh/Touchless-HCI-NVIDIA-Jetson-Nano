# ============================================================================
# Gesture Vocabulary Definition
# Maps gestures to media actions with detection parameters
# ============================================================================

# --- Static Gestures (Pose-based) ---
static_gestures:
  thumbs_up:
    display_name: "Thumbs Up"
    action: "play_pause"
    description: "Thumb extended upward, other fingers curled"
    priority: 1
    dwell_ms: 400
    rules:
      thumb_extended: true
      index_curled: true
      middle_curled: true
      ring_curled: true
      pinky_curled: true
      thumb_direction: "up"

  peace_sign:
    display_name: "Peace / Victory"
    action: "volume_up"
    description: "Index and middle fingers extended in V shape"
    priority: 2
    dwell_ms: 300
    holdable: true
    hold_repeat_ms: 200
    rules:
      thumb_curled: true
      index_extended: true
      middle_extended: true
      ring_curled: true
      pinky_curled: true

  ok_sign:
    display_name: "OK Sign"
    action: "volume_down"
    description: "Thumb and index forming circle, others extended"
    priority: 2
    dwell_ms: 300
    holdable: true
    hold_repeat_ms: 200
    rules:
      thumb_index_circle: true
      middle_extended: true
      ring_extended: true
      pinky_extended: true

  fist:
    display_name: "Closed Fist"
    action: "mute"
    description: "All fingers curled into fist"
    priority: 3
    dwell_ms: 500
    rules:
      thumb_curled: true
      index_curled: true
      middle_curled: true
      ring_curled: true
      pinky_curled: true

  open_palm:
    display_name: "Open Palm"
    action: "fullscreen"
    description: "All fingers extended, palm facing camera"
    priority: 3
    dwell_ms: 600
    rules:
      thumb_extended: true
      index_extended: true
      middle_extended: true
      ring_extended: true
      pinky_extended: true
      palm_facing: "camera"

  thumbs_down:
    display_name: "Thumbs Down"
    action: "smart_pause"
    description: "Thumb extended downward - pause and rewind 5s"
    priority: 1
    dwell_ms: 400
    rules:
      thumb_extended: true
      index_curled: true
      middle_curled: true
      ring_curled: true
      pinky_curled: true
      thumb_direction: "down"

  finger_point:
    display_name: "Pointing"
    action: "seek_position"
    description: "Index finger extended, others curled - seek with movement"
    priority: 4
    dwell_ms: 200
    rules:
      thumb_curled: true
      index_extended: true
      middle_curled: true
      ring_curled: true
      pinky_curled: true

  i_love_you:
    display_name: "I Love You"
    action: "none"
    description: "Thumb, index, and pinky extended (reserved for calibration)"
    priority: 5
    dwell_ms: 500
    rules:
      thumb_extended: true
      index_extended: true
      middle_curled: true
      ring_curled: true
      pinky_extended: true

# --- Dynamic Gestures (Motion-based) ---
dynamic_gestures:
  swipe_right:
    display_name: "Swipe Right"
    action: "seek_forward"
    description: "Hand movement left to right"
    priority: 1
    detection:
      direction: "right"
      min_velocity: 200
      min_distance: 80
      max_duration_ms: 800

  swipe_left:
    display_name: "Swipe Left"
    action: "seek_backward"
    description: "Hand movement right to left"
    priority: 1
    detection:
      direction: "left"
      min_velocity: 200
      min_distance: 80
      max_duration_ms: 800

# --- Action Definitions ---
actions:
  play_pause:
    display_name: "Play/Pause"
    icon: "||"
    feedback_color: [0, 255, 0]

  volume_up:
    display_name: "Volume Up"
    icon: "VOL+"
    feedback_color: [0, 255, 255]

  volume_down:
    display_name: "Volume Down"
    icon: "VOL-"
    feedback_color: [0, 255, 255]

  seek_forward:
    display_name: "Forward 10s"
    icon: ">>"
    feedback_color: [255, 200, 0]

  seek_backward:
    display_name: "Back 10s"
    icon: "<<"
    feedback_color: [255, 200, 0]

  mute:
    display_name: "Mute/Unmute"
    icon: "MUTE"
    feedback_color: [0, 0, 255]

  fullscreen:
    display_name: "Fullscreen"
    icon: "[ ]"
    feedback_color: [255, 0, 255]

  smart_pause:
    display_name: "Smart Pause"
    icon: "<<||"
    feedback_color: [255, 100, 0]

  seek_position:
    display_name: "Seek Position"
    icon: "|>"
    feedback_color: [200, 200, 0]

# --- Gesture Macros (Innovation Feature) ---
macros:
  enabled: true
  sequences:
    save_favorite:
      display_name: "Save to Favorites"
      sequence: ["peace_sign", "fist", "thumbs_up"]
      timeout_ms: 3000
      action: "custom_save_favorite"

# --- Conflict Resolution ---
conflict_resolution:
  strategy: "highest_confidence"  # highest_confidence | priority | last_stable
  min_confidence_gap: 0.1        # Minimum gap between top-2 gestures
